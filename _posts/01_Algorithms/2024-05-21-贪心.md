---
title: "贪心算法：局部最优与全局最优策略"
categories: [01_Algorithms]
tags: [algorithm]

math: true
layout: post
---

贪心算法，是一种在每一步选择中都采用在当前状态下最好或最优（即最有利）的选择 ，从而希望导致结果最好或最优的算法。

贪心算法在有最优子结构的问题中尤为有效。最优子结构的意思是**局部最优解能决定全局最优解**。简单地说，问题能够分解成子问题来解决，子问题的最优解能递推到最终问题的最优解。

贪心算法与动态规划的不同在于它**对每个子问题的解决方案都做出了选择，不能回退**。而动态规划则会保存以前的运算结果，并根据以前的结果对当前进行选择，有回退功能。

一旦一个问题可以通过贪心法来解决，那么贪心法一般是解决这个问题的最好办法。由于贪心法的高效性以及其所求得的答案比较接近最优结果，贪心法也可以用作辅助算法或者直接解决一些要求结果不特别精确的问题。

**注意**：贪心算法不是对所有问题都能得到整体最优解，选择贪心策略必须具备无后效性，即某个状态以后的过程不会影响以前的状态，只与当前状态有关。

## 贪心算法的基本要素

1. 贪心选择性质。所谓贪心选择性质是指**所求问题的整体最优解可以通过一系列局部最优的选择**，即贪心选择来达到。这是贪心算法可行的第一个基本要素，也是贪心算法与动态规划算法的主要却别。

   动态规划算法通常以自底向上的方式解各子问题，而贪心算法则通常以自顶向下的方式进行，以迭代的方式作出相继的贪心选择，每做一次贪心选择就将所求问题简化为规模更小的子问题。

   对于一个具体问题，要确定它是否具有贪心选择性质，必须证明每一步所做的贪心选择最终导致问题的整体最优解。

2. 当一个问题的最优解包含其子问题的最优解时，称此问题具有最优子结构性质。问题的最优子结构性质是该问题可用动态规划或贪心算法求解的关键特征。

## 实现细节

1. 建立数学模型来描述问题
2. 把求解的问题分为若干个**子问题**
3. 对每一个子问题求解，得到子问题的局部最优解
4. 把子问题的解局部最优解合成原来解问题的一个解

实现该算法的过程：

while 能朝给定总目标前进一步 do

​		求解可行解的一个解元素；

由所有解元素组成问题的一个可行解；

## 存在的问题

1. 不能保证求得的最后解是最佳的
2. 不能用来求最大或最小解问题
3. 只能求满足某些约束条件的可行解的范围

## 趣味入门

### 活动选择

问题描述：有n个需要在同一天使用同一个教室的活动$a_1,a_2,…,a_n$，教室同一时刻只能由一个活动使用。每个活动$a_i$都有一个开始时间$s_i$和结束时间$f_i$ 。一旦被选择后，活动$a_i$就占据半开时间区间$[si,fi)$。如果$[si,fi]$和$[sj,fj]$互不重叠，$a_i$和$a_j$两个活动就可以被安排在这一天。该问题就是要安排这些活动使得尽量多的活动能不冲突的举行。

**贪心策略**：尽可能地每次选择**结束时间最早的活动**。直观上也很好理解，按这种方法选择相容活动为未安排活动留下尽可能多的时间。（把各项活动按照结束时间单调递增排序）

### 钱币找零

问题描述：假设1元、2元、5元、10元、20元、50元、100元的纸币分别有$c_0,c_1,c_2,c_3,c_4,c_5,c_6$张。现在要用这些钱来支付K元，至少要用多少张纸币？

**贪心策略**：每一步都尽可能地用面值大的钱币即可。

### 背包问题

在[背包问题](/posts/背包DP/)章节，我们已经了解了基本的背包问题：0-1背包，完全背包和部分背包。很容易证明，背包问题不能使用贪心算法。然而，我们考虑这样一种背包问题：在选择物品$i$装入背包时，可以选择物品的一部分，而不一定要全部装入背包。这样便可以使用贪心算法求解了。

**贪心策略**：计算每种物品的单位价值作为贪心选择的依据指标，选择单位重量价值最高的物品，将尽可能多的该物品装入背包，依次策略进行下去，直到背包装满为止。（在0-1背包问题中贪心选择之所以不能得到最优解原因是贪心选择无法保证最终能将背包装满，部分闲置的背包空间使每公斤背包空间的价值降低了。）

### 多机调度

[代码参考链接](https://blog.csdn.net/gardenpalace/article/details/84346838)

n个作业组成的作业集，可由m台相同机器加工处理。要求给出一种作业调度方案，使所给的n个作业尽可能短的时间内由m台机器加工处理完成。作业不能拆分成更小的子作业；每个作业均可在任何一台机器上加工处理。

这是一个NP完全问题，还没有有效的解法（求最优解），但是可以用贪心选择策略设计出较好的近似算法（求次优解）。NP完全问题(NP-C问题)，是世界七大数学难题之一。 NP的英文全称是Non-deterministic Polynomial的问题，即多项式复杂程度的非确定性问题。

**贪心策略**：当$n<=m$时，只要将作业时间区间分配给作业即可；当$n>m$时，首先将n个作业从大到小排序，然后依此顺序将作业分配给空闲的处理机。也就是说从剩下的作业中，选择需要处理时间最长的，然后依次选择处理时间次长的，直到所有的作业全部处理完毕，或者机器不能再处理其他作业为止。

如果我们每次是将需要处理时间最短的作业分配给空闲的机器，那么可能就会出现其它所有作业都处理完了只剩所需时间最长的作业在处理的情况，这样势必效率较低。

### 小船过河

题目描述：有一艘船，能乘2人，船的运行速度为2人中较慢一人的速度，过去还需要一个人把船划回来。问把n个人运到对岸，最少需要多久。

**贪心策略**：先将所有人过河所需的时间按照升序排序，我们考虑把单独过河所需时间最多的两个旅行者送到对岸去，有两种方式：

- 最快的和次快的先过河，然后最快的将船划回来；次慢的和最慢的过河，然后次快的将船划回来，所需时间为：$t[0] + 2*t[1] + t[n-1]$
- 最快的和最慢的过河，然后最快的将船回来了；最快的和次慢的过河，然后最快的将船划回来，所需时间为：$2*t[0] + t[n-2] + t[n-1]$

通过计算，可以发现，除上述情况外的其它情况用时一定更多。每次都运送耗时最长的两人，而不影响其它人。问题具有贪心子结构的性质。

## 参考链接

[从零开始学贪心算法](https://blog.csdn.net/qq_32400847/article/details/51336300)

[wiki-贪心算法](https://zh.wikipedia.org/wiki/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95)

