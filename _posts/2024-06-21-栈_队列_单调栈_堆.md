---
title: "æ•°æ®ç»“æ„ï¼šå †/é˜Ÿåˆ—/æ ˆ/å•è°ƒæ ˆ"
categories: [ds-algo]
tags: [data-structure]

math: true
layout: post
---

> æœ¬æ–‡å±äº **æ•°æ®ç»“æ„ç³»åˆ—åšå®¢**ã€‚æœ¬ç³»åˆ—æ—¨åœ¨ç³»ç»Ÿæ¢³ç†å¸¸è§æ•°æ®ç»“æ„çš„åŸç†ã€å®ç°ä¸åº”ç”¨ï¼Œé€‚åˆåˆ·é¢˜ã€é¢è¯•åŠæ•™å­¦ä½¿ç”¨ã€‚

ğŸ”— **ç›®å½•å¯¼èˆªï¼š**
- [å‰ç¼€å’Œæ•°ç»„](/posts/å‰ç¼€å’Œ_å·®åˆ†_æ ‘çŠ¶_çº¿æ®µæ ‘/#å‰ç¼€å’Œæ•°ç»„)
- [å·®åˆ†æ•°ç»„](/posts/å‰ç¼€å’Œ_å·®åˆ†_æ ‘çŠ¶_çº¿æ®µæ ‘/#å·®åˆ†æ•°ç»„)
- [é˜Ÿåˆ—/æ ˆ](/posts/æ ˆ_é˜Ÿåˆ—_å•è°ƒæ ˆ_å †/#é˜Ÿåˆ—å’Œæ ˆ)
- [å•è°ƒæ ˆ](/posts/æ ˆ_é˜Ÿåˆ—_å•è°ƒæ ˆ_å †/#å•è°ƒæ ˆ)
- [å †(ä¼˜å…ˆçº§é˜Ÿåˆ—)](/posts/æ ˆ_é˜Ÿåˆ—_å•è°ƒæ ˆ_å †/#å †ä¼˜å…ˆçº§é˜Ÿåˆ—)
- [æ ‘çŠ¶æ•°ç»„](/posts/å‰ç¼€å’Œ_å·®åˆ†_æ ‘çŠ¶_çº¿æ®µæ ‘/#æ ‘çŠ¶æ•°ç»„)
- [çº¿æ®µæ ‘](/posts/å‰ç¼€å’Œ_å·®åˆ†_æ ‘çŠ¶_çº¿æ®µæ ‘/#çº¿æ®µæ ‘)
- [å¹¶æŸ¥é›†](/posts/å­—å…¸æ ‘_LRU_å¹¶æŸ¥é›†/#å¹¶æŸ¥é›†)
- [å­—å…¸æ ‘](/posts/å­—å…¸æ ‘_LRU_å¹¶æŸ¥é›†/#å­—å…¸æ ‘)
- [LRU(æœ€è¿‘æœ€å°‘ä½¿ç”¨)](/posts/å­—å…¸æ ‘_LRU_å¹¶æŸ¥é›†/#lru)

---

## é˜Ÿåˆ—å’Œæ ˆ

**æ ˆï¼ˆStackï¼‰ vs é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼š**

| ç‰¹æ€§        | æ ˆï¼ˆStackï¼‰                     | é˜Ÿåˆ—ï¼ˆQueueï¼‰               |
| --------- | ---------------------------- | ----------------------- |
| å­˜å–é¡ºåº      | åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰                   | å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰              |
| æ’å…¥æ“ä½œ      | `push(x)` æ”¾å…¥â€œæ ˆé¡¶â€             | `enqueue(x)` æ”¾å…¥â€œé˜Ÿå°¾â€     |
| åˆ é™¤æ“ä½œ      | `pop()` ä»â€œæ ˆé¡¶â€ç§»é™¤              | `dequeue()` ä»â€œé˜Ÿå¤´â€ç§»é™¤     |
| è®¿é—®æ–¹å¼      | åªèƒ½è®¿é—®æ ˆé¡¶                       | åªèƒ½è®¿é—®é˜Ÿå¤´                  |
| å¸¸ç”¨åœºæ™¯      | æ‹¬å·åŒ¹é…ã€è¡¨è¾¾å¼æ±‚å€¼ã€å›æº¯ç­‰               | æ’é˜Ÿç³»ç»Ÿã€BFSéå†ã€ä»»åŠ¡è°ƒåº¦ç­‰        |
| Python å®ç° | `list` æˆ– `collections.deque` | `collections.deque`ï¼ˆæ¨èï¼‰ |

---

**é˜Ÿåˆ—**

**ç‰¹ç‚¹ï¼š**
* **å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰**
* ç±»æ¯”ï¼šæ’é˜Ÿç³»ç»Ÿã€æ‰“å°é˜Ÿåˆ—

**Python å®ç°ï¼ˆæ¨èä½¿ç”¨ `collections.deque`ï¼‰ï¼š**
```python
from collections import deque

queue = deque()

queue.append(1)       # å…¥é˜Ÿï¼ˆå°¾éƒ¨ï¼‰
queue.append(2)
front = queue[0]      # æŸ¥çœ‹é˜Ÿå¤´
queue.popleft()       # å‡ºé˜Ÿï¼ˆå¤´éƒ¨ï¼‰
```

* `append(x)` å…¥é˜Ÿï¼ˆå³ç«¯ï¼‰
* `popleft()` å‡ºé˜Ÿï¼ˆå·¦ç«¯ï¼‰

`collections.deque`åŒæ ·å¯ç”¨äºå®ç°â€œ**åŒç«¯é˜Ÿåˆ—**â€ï¼š
```python
queue.appendleft(x)   # å·¦è¾¹å…¥é˜Ÿ
queue.pop()           # å³è¾¹å‡ºé˜Ÿ
```

---

**æ ˆ**

**ç‰¹ç‚¹ï¼š**
* **åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰**
* ç±»æ¯”ï¼šç›˜å­å †ã€æ’¤é”€æ“ä½œ

**Python å®ç°ï¼ˆæ¨èä½¿ç”¨ `list`ï¼‰ï¼š**
```python
stack = []

stack.append(1)    # push å…¥æ ˆ
stack.append(2)
top = stack[-1]    # æŸ¥çœ‹æ ˆé¡¶
stack.pop()        # pop å‡ºæ ˆ
```

* `append(x)` å…¥æ ˆ
* `pop()` å‡ºæ ˆ
* `stack[-1]` æŸ¥çœ‹æ ˆé¡¶

---

## å•è°ƒæ ˆ

å•è°ƒæ ˆæ˜¯æŒ‡æ ˆå†…å…ƒç´ å•è°ƒé€’å¢æˆ–é€’å‡çš„æ ˆç»“æ„ã€‚

**å¸¸è§åº”ç”¨åœºæ™¯ï¼š**

| åº”ç”¨åœºæ™¯      | ç®€è¦æè¿°                     |
| --------- | ------------------------ |
| ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼ˆæˆ–æ›´å°å…ƒç´ ï¼‰ | ä»ä¸€ä¸ªæ•°ç»„ä¸­æ‰¾åˆ°æ¯ä¸ªå…ƒç´ å³è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„æ•°   |
| æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ | æ±‚è§£æ¯æ ¹æŸ±å­å·¦å³ç¬¬ä¸€ä¸ªæ¯”å®ƒçŸ®çš„æŸ±å­ï¼Œè®¡ç®—æœ€å¤§é¢ç§¯ |
| æ»‘åŠ¨çª—å£æœ€å€¼    | å•è°ƒé˜Ÿåˆ—å˜å½¢                   |
| æŸä¸ªå…ƒç´ çš„å·¦/å³è¾¹ç•Œ | æ‰¾åˆ°æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å·¦è¾¹ç¬¬ä¸€ä¸ªæ¯”å®ƒå°/å¤§çš„æ•°    |

**å•è°ƒé€’å¢ï¼ˆé€’å‡ï¼‰æ ˆï¼š**

| ç±»å‹    | ç‰¹ç‚¹                | é€‚ç”¨åœºæ™¯                |
| ----- | ----------------- | ------------------- |
| å•è°ƒé€’å¢æ ˆ | æ ˆå†…å…ƒç´ ä»æ ˆåº•åˆ°æ ˆé¡¶é€’å¢ï¼ˆå°â†’å¤§ï¼‰ | å¯»æ‰¾**ä¸‹ä¸€ä¸ªæ›´å°å…ƒç´ **ã€ç»´æŠ¤æœ€å°å€¼ |
| å•è°ƒé€’å‡æ ˆ | æ ˆå†…å…ƒç´ ä»æ ˆåº•åˆ°æ ˆé¡¶é€’å‡ï¼ˆå¤§â†’å°ï¼‰ | å¯»æ‰¾**ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ **ã€ç»´æŠ¤æœ€å¤§å€¼ |

**ä¸¾ä¾‹è¯´æ˜ï¼š**
ä»¥æ•°ç»„ `[2, 1, 5, 6, 2, 3]` ä¸ºä¾‹ï¼Œ**å¯»æ‰¾æ¯ä¸ªå…ƒç´ å³ä¾§ç¬¬ä¸€ä¸ªæ¯”å®ƒå¤§çš„å…ƒç´ **ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œåˆ™è®°ä¸º -1ã€‚

ç»´æŠ¤ä¸€ä¸ª **å•è°ƒé€’å‡æ ˆ**ï¼Œæ ˆä¸­å­˜çš„æ˜¯**ç´¢å¼•**ã€‚éå†æ•°ç»„æ—¶ï¼Œå¦‚æœå½“å‰å…ƒç´ æ¯”æ ˆé¡¶å¯¹åº”çš„å…ƒç´ å¤§ï¼Œå°±è¯´æ˜æ‰¾åˆ°äº†â€œä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ â€ã€‚

---

### ç®—æ³•è¿‡ç¨‹

è¾“å…¥æ•°ç»„ï¼š`nums = [2, 1, 5, 6, 2, 3]`

éå†è¿‡ç¨‹ï¼š

1. i = 0, nums\[0] = 2
   â†’ æ ˆç©ºï¼Œå…¥æ ˆ \[0]

2. i = 1, nums\[1] = 1
   â†’ æ ˆé¡¶ nums\[0]=2 > 1ï¼Œä¸æ»¡è¶³æ¡ä»¶ï¼Œå…¥æ ˆ \[0, 1]

3. i = 2, nums\[2] = 5

   * æ ˆé¡¶ nums\[1]=1 < 5 â†’ å¼¹å‡ºï¼Œres\[1] = 5
   * æ ˆé¡¶ nums\[0]=2 < 5 â†’ å¼¹å‡ºï¼Œres\[0] = 5
     â†’ å…¥æ ˆ \[2]

4. i = 3, nums\[3] = 6

   * æ ˆé¡¶ nums\[2]=5 < 6 â†’ å¼¹å‡ºï¼Œres\[2] = 6
     â†’ å…¥æ ˆ \[3]

5. i = 4, nums\[4] = 2
   â†’ æ ˆé¡¶ nums\[3]=6 > 2ï¼Œä¸å¼¹å‡ºï¼Œå…¥æ ˆ \[3, 4]

6. i = 5, nums\[5] = 3

   * æ ˆé¡¶ nums\[4]=2 < 3 â†’ å¼¹å‡ºï¼Œres\[4] = 3
     â†’ æ ˆé¡¶ nums\[3]=6 > 3ï¼Œä¸å¼¹å‡ºï¼Œå…¥æ ˆ \[3, 5]

æœ€ç»ˆç»“æœï¼š`res = [5, 5, 6, -1, 3, -1]`

---

### Python å®ç°

```python
def next_greater(nums):
    res = [-1] * len(nums)
    stack = []
    for i, num in enumerate(nums):
        while stack and nums[i] > nums[stack[-1]]:
            idx = stack.pop()
            res[idx] = nums[i]
        stack.append(i)
    return res
```

### ç»å…¸ä¾‹é¢˜
* [496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I](https://leetcode.cn/problems/next-greater-element-i/) 
* [503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II](https://leetcode.cn/problems/next-greater-element-ii/)
* [84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢](https://leetcode.cn/problems/largest-rectangle-in-histogram/)
* [42. æ¥é›¨æ°´](https://leetcode.cn/problems/trapping-rain-water/)
* [239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode.cn/problems/sliding-window-maximum/)
* [2197. æ›¿æ¢æ•°ç»„ä¸­çš„éäº’è´¨æ•°](https://leetcode.cn/problems/replace-non-coprime-numbers-in-array/description/)

---


## å †(ä¼˜å…ˆçº§é˜Ÿåˆ—)

å †æ˜¯ä¸€ç§**å®Œå…¨äºŒå‰æ ‘**ï¼Œæ»¡è¶³ç‰¹å®šçš„é¡ºåºæ€§è´¨ï¼š

* **å¤§é¡¶å †ï¼ˆMax-Heapï¼‰**ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼ â‰¥ å…¶å­èŠ‚ç‚¹çš„å€¼ã€‚
* **å°é¡¶å †ï¼ˆMin-Heapï¼‰**ï¼šæ¯ä¸ªèŠ‚ç‚¹çš„å€¼ â‰¤ å…¶å­èŠ‚ç‚¹çš„å€¼ã€‚

å †å¸¸ç”¨äºå®ç°**ä¼˜å…ˆé˜Ÿåˆ—**ï¼Œå¯ä»¥åœ¨ `O(log n)` æ—¶é—´å†…å®Œæˆæ’å…¥å’Œåˆ é™¤æœ€å¤§/æœ€å°å…ƒç´ ã€‚

**å †çš„åŸºæœ¬æ“ä½œï¼š**

| æ“ä½œ          | æ—¶é—´å¤æ‚åº¦    | æè¿°            |
| ----------- | -------- | ------------- |
| æ’å…¥ï¼ˆpushï¼‰    | O(log n) | å°†å…ƒç´ æ’å…¥å †ä¸­ï¼Œå‘ä¸Šè°ƒæ•´å † |
| å¼¹å‡ºï¼ˆpopï¼‰     | O(log n) | åˆ é™¤å †é¡¶å…ƒç´ ï¼Œå‘ä¸‹è°ƒæ•´å †  |
| æŸ¥çœ‹å †é¡¶ï¼ˆpeekï¼‰  | O(1)     | æŸ¥çœ‹æœ€å¤§æˆ–æœ€å°å…ƒç´      |
| å»ºå †ï¼ˆheapifyï¼‰ | O(n)     | å°†ä¸€ä¸ªæ— åºæ•°ç»„å»ºæˆå †ç»“æ„  |

---

### Pythonçš„`heapq`

* é»˜è®¤å®ç°çš„æ˜¯**å°é¡¶å †**
* è‹¥éœ€å¤§é¡¶å †ï¼šæ’å…¥å…ƒç´ æ—¶å–è´Ÿå€¼ `-x`ï¼Œå–å‡ºæ—¶å†å–è´Ÿ

**å¸¸ç”¨ API æ€»è§ˆï¼š**

| å‡½æ•°å                             | è¯´æ˜                     |
| ------------------------------- | ---------------------- |
| `heapq.heapify(list)`           | åŸåœ°å°†åˆ—è¡¨è½¬ä¸ºå †ç»“æ„ï¼ˆå°é¡¶å †ï¼‰        |
| `heapq.heappush(heap, item)`    | å‘å †ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´               |
| `heapq.heappop(heap)`           | å¼¹å‡ºæœ€å°çš„å…ƒç´                 |
| `heapq.heappushpop(heap, item)` | å…ˆ push å popï¼ˆæ•ˆç‡æ¯”åˆ†åˆ«è°ƒç”¨é«˜ï¼‰ |
| `heapq.heapreplace(heap, item)` | å…ˆ pop å pushï¼ˆæ•ˆç‡æ¯”åˆ†åˆ«è°ƒç”¨é«˜ï¼‰ |
| `heapq.nlargest(k, iterable)`   | å–å‰ k å¤§                 |
| `heapq.nsmallest(k, iterable)`  | å–å‰ k å°                 |


```python
import heapq

# å°é¡¶å †
heap = []
heapq.heappush(heap, 5)
heapq.heappush(heap, 2)
heapq.heappop(heap)  # 2

# å¤§é¡¶å †
max_heap = []
heapq.heappush(max_heap, -5)
heapq.heappush(max_heap, -2)
-heapq.heappop(max_heap)  # 5
```

---

### æ‡’åˆ é™¤å †ï¼ˆLazy Deletion Heapï¼‰

åœ¨ä½¿ç”¨ **å †ï¼ˆheapqï¼‰** ä½œä¸ºä¼˜å…ˆé˜Ÿåˆ—æ—¶ï¼Œç»å¸¸ä¼šé‡åˆ°ä¸¤ä¸ªéº»çƒ¦ï¼š

1. **åˆ é™¤æŒ‡å®šå…ƒç´ **ï¼š`heapq` åªèƒ½åˆ é™¤å †é¡¶ï¼Œä¸èƒ½ç›´æ¥åˆ é™¤å †ä¸­ä»»æ„å…ƒç´ ã€‚
2. **æ›´æ–°å…ƒç´ **ï¼šå¦‚æœæŸä¸ªå…ƒç´ çš„ä¼˜å…ˆçº§ï¼ˆå…³é”®å­—ï¼‰å‘ç”Ÿå˜åŒ–ï¼Œéœ€è¦æŠŠå®ƒæ›´æ–°ä¸ºæ–°å€¼ï¼Œä½†å †é‡Œè¿˜ç•™ç€æ—§å€¼ã€‚

å¦‚æœæˆ‘ä»¬ç¡¬è¦â€œä¸­é€”åˆ é™¤â€ï¼Œéœ€è¦åœ¨å †é‡ŒæŸ¥æ‰¾å¹¶é‡æ–°è°ƒæ•´ï¼Œè¿™ä¼šå¯¼è‡´ **O(n)** çš„å¤æ‚åº¦ï¼Œä¸¢æ‰äº†å †çš„é«˜æ•ˆæ€§ã€‚

äºæ˜¯æœ‰äº†ä¸€ä¸ªç»å…¸æŠ€å·§ï¼š**æ‡’åˆ é™¤ï¼ˆLazy Deletionï¼‰**ã€‚

---

**æ‡’åˆ é™¤çš„æ€è·¯å¾ˆç®€å•ï¼š**

* **æ’å…¥æ–°å€¼**ï¼šç…§å¸¸ `heappush`ã€‚
* **åˆ é™¤æŸä¸ªå€¼**ï¼šä¸åŠ¨å †ï¼Œåªåœ¨ä¸€ä¸ª `dict` æˆ– `set` é‡Œæ ‡è®°è¯¥å€¼â€œå·²åˆ é™¤â€ã€‚
* **å–å †é¡¶/å¼¹å‡º**ï¼šå¦‚æœå †é¡¶å€¼å·²ç»è¢«æ ‡è®°åˆ é™¤ï¼Œå°±ä¸¢æ‰å®ƒï¼Œç»§ç»­å¼¹ä¸‹ä¸€ä¸ªã€‚

æ¢å¥è¯è¯´ï¼Œå †ä¸­å¯èƒ½å­˜åœ¨â€œè¿‡æœŸå…ƒç´ â€ï¼Œä½†æˆ‘ä»¬ä¸æ€¥ç€æ¸…ç†å®ƒä»¬ï¼Œç›´åˆ°å®ƒä»¬å‡ºç°åœ¨å †é¡¶æ—¶ï¼Œæ‰çœŸæ­£åˆ é™¤ã€‚

---

**åº”ç”¨åœºæ™¯**

**1. æœ€çŸ­è·¯å¾„ï¼ˆDijkstraã€A\*ï¼‰**

åœ¨ Dijkstra ç®—æ³•ä¸­ï¼ŒæŸä¸ªèŠ‚ç‚¹çš„è·ç¦»å¯èƒ½è¢«æ›´æ–°å¤šæ¬¡ã€‚

* æ—§çš„è·ç¦»æˆ‘ä»¬æ²¡æ³•ç›´æ¥ä»å †é‡Œåˆ é™¤ã€‚
* é‡‡ç”¨æ‡’åˆ é™¤ï¼šç›´æ¥ push æ–°è·ç¦»ï¼Œç­‰æ—§å€¼è¢« pop å‡ºæ¥æ—¶ï¼Œå¦‚æœå‘ç°å®ƒä¸æ˜¯â€œå½“å‰æœ€ä¼˜å€¼â€ï¼Œå°±ä¸¢å¼ƒã€‚

è¿™æ˜¯ Dijkstra å¸¸è§çš„ Python å®ç°æ–¹å¼ã€‚

---

**2. æ»‘åŠ¨çª—å£æœ€å€¼**

ä¾‹å¦‚ï¼šç»´æŠ¤ä¸€ä¸ªé•¿åº¦ä¸º `k` çš„æ»‘åŠ¨çª—å£ï¼Œè¦æ±‚éšæ—¶è¾“å‡ºæœ€å¤§å€¼ã€‚

* çª—å£æ»‘åŠ¨æ—¶ï¼Œç§»å‡ºçš„å…ƒç´ æ ‡è®°ä¸ºâ€œåˆ é™¤â€ã€‚
* çª—å£æ–°åŠ å…¥çš„å…ƒç´  push åˆ°å †ã€‚
* æ¯æ¬¡å–å †é¡¶æ—¶ï¼Œå¦‚æœå †é¡¶å·²è¿‡æœŸï¼Œå°±æ‡’åˆ é™¤ç»§ç»­å¼¹ã€‚

è¿™æ ·å°±èƒ½é«˜æ•ˆç»´æŠ¤çª—å£å†…çš„æœ€å¤§/æœ€å°å€¼ã€‚

---

**3. åŠ¨æ€é›†åˆæœ€å€¼æŸ¥è¯¢**

æˆ‘ä»¬æƒ³è¦æ”¯æŒæ“ä½œï¼š

* `add(x)`
* `remove(x)`
* `get_min()`

æ‡’åˆ é™¤å †å¯ä»¥è½»æ¾åšåˆ°ï¼Œå¤æ‚åº¦ä»ç„¶å¯¹æ•°çº§ã€‚

---

**å®ç°åŸç†**

ä¸€ä¸ªå…¸å‹çš„æ‡’åˆ é™¤å †ç»“æ„åŒ…å«ï¼š

1. **ä¸€ä¸ªæœ€å°å †**ï¼ˆ`heapq` å®ç°ï¼‰ã€‚
2. **ä¸€ä¸ªå­—å…¸/å“ˆå¸Œè¡¨**ï¼ˆè®°å½•å“ªäº›å…ƒç´ â€œå·²åˆ é™¤ä½†è¿˜æ²¡æ¸…ç†â€ï¼‰ã€‚

ä¼ªä»£ç ï¼š

```
push(x):
    heap.push(x)

remove(x):
    invalid[x] += 1   # æ ‡è®°åˆ é™¤

top():
    while heap éç©º ä¸” heap.top åœ¨ invalid ä¸­:
        heap.pop()
        invalid[x] -= 1
        å¦‚æœ invalid[x] == 0: åˆ é™¤é”®
    return heap.top
```

---

**ä¼˜ç‚¹**

* é¿å…å †ä¸­é—´åˆ é™¤ï¼Œæ“ä½œç®€å•ã€‚
* æ’å…¥ã€åˆ é™¤æ ‡è®°ã€å¼¹å‡ºä¿æŒ **O(log n)**ã€‚
* å®ç°ä¼˜å…ˆé˜Ÿåˆ— + åˆ é™¤/æ›´æ–°åŠŸèƒ½ï¼Œéå¸¸å®ç”¨ã€‚

**ç¼ºç‚¹**

* å †ä¸­ä¼šå­˜æ”¾ä¸€äº›â€œæ— æ•ˆå…ƒç´ â€ï¼Œå¯èƒ½å¯¼è‡´ **å†…å­˜å ç”¨å˜å¤§**ã€‚
* å¦‚æœé•¿æ—¶é—´ä¸è®¿é—®å †é¡¶ï¼Œè¿‡æœŸå…ƒç´ ä¸ä¼šè¢«æ¸…ç†ã€‚

ä¸€èˆ¬åœ¨ç®—æ³•åœºæ™¯ï¼ˆå¦‚æœ€çŸ­è·¯ã€æ»‘åŠ¨çª—å£ï¼‰ä¸­ï¼Œè¿™ä¸ªç¼ºç‚¹ä¸æ˜æ˜¾ã€‚

**æ€»ç»“**

æ‡’åˆ é™¤å †æ˜¯ä¸€ç§ **ä»¥ç©ºé—´æ¢æ—¶é—´** çš„æŠ€å·§ã€‚

* å®ƒä¸æ”¹å˜å †çš„åº•å±‚é€»è¾‘ï¼Œè€Œæ˜¯åœ¨é€»è¾‘å±‚é¢è§£å†³â€œåˆ é™¤/æ›´æ–°â€é—®é¢˜ã€‚
* åœ¨ Python çš„ç®—æ³•å®ç°ä¸­ï¼ˆå°¤å…¶æ˜¯ Dijkstraã€æ»‘åŠ¨çª—å£ã€ä»»åŠ¡è°ƒåº¦ç­‰ï¼‰ï¼Œæ˜¯éå¸¸é«˜é¢‘çš„æ¨¡å¼ã€‚

ä¸€å¥è¯æ€»ç»“ï¼š

> **é‡åˆ°å †ä¸­é—´åˆ é™¤æˆ–æ›´æ–°æ—¶ï¼Œåˆ«ç¡¬åˆ ï¼Œæ ‡è®°ä¸€ä¸‹ï¼Œç­‰å®ƒåˆ°å †é¡¶å†åˆ ã€‚**

---

### å †æ’åºç®€ä»‹

å †æ’åºåˆ©ç”¨å †çš„æ€§è´¨æ¥è¿›è¡Œæ’åºï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(n log n)`ï¼Œä¸ç¨³å®šæ’åºã€‚

**æ’åºæµç¨‹ï¼ˆå¤§é¡¶å †ï¼‰**ï¼š

1. å»ºå †ï¼ˆå¤§é¡¶å †ï¼‰
2. ä¸æ–­å°†å †é¡¶å…ƒç´ ä¸æœ«å°¾å…ƒç´ äº¤æ¢ï¼Œå¹¶è°ƒæ•´å‰©ä½™éƒ¨åˆ†ä¸ºå¤§é¡¶å †

```python
def heap_sort(nums):
    # ----------- å»ºç«‹å¤§é¡¶å † -----------
    def heapify(nums, n, i):
        largest = i  # åˆå§‹åŒ–æœ€å¤§å€¼ä¸ºå½“å‰æ ¹
        left = 2 * i + 1  # å·¦å­©å­
        right = 2 * i + 2  # å³å­©å­

        # å¦‚æœå·¦å­©å­å­˜åœ¨ä¸”æ¯”å½“å‰æœ€å¤§è¿˜å¤§
        if left < n and nums[left] > nums[largest]:
            largest = left

        # å¦‚æœå³å­©å­å­˜åœ¨ä¸”æ¯”å½“å‰æœ€å¤§è¿˜å¤§
        if right < n and nums[right] > nums[largest]:
            largest = right

        # å¦‚æœæœ€å¤§å€¼ä¸æ˜¯æ ¹ï¼Œäº¤æ¢å¹¶ç»§ç»­ heapify
        if largest != i:
            nums[i], nums[largest] = nums[largest], nums[i]
            heapify(nums, n, largest)

    n = len(nums)

    # ----------- ç¬¬ä¸€æ­¥ï¼šå»ºå † -----------
    for i in range(n // 2 - 1, -1, -1):  # ä»æœ€åä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹
        heapify(nums, n, i)

    # ----------- ç¬¬äºŒæ­¥ï¼šæ’åº -----------
    for i in range(n - 1, 0, -1):
        # å½“å‰å †é¡¶æ˜¯æœ€å¤§å€¼ï¼Œäº¤æ¢åˆ°æœ«å°¾
        nums[0], nums[i] = nums[i], nums[0]
        # é‡æ–°è°ƒæ•´å †
        heapify(nums, i, 0)
```

### ç»å…¸ä¾‹é¢˜
- [1353. æœ€å¤šå¯ä»¥å‚åŠ çš„ä¼šè®®æ•°ç›®](https://leetcode.cn/problems/maximum-number-of-events-that-can-be-attended/)
- [2163. åˆ é™¤å…ƒç´ åå’Œçš„æœ€å°å·®å€¼](https://leetcode.cn/problems/minimum-difference-in-sums-after-removal-of-elements/)

**æ‡’åˆ é™¤å †**
- [2349. è®¾è®¡æ•°å­—å®¹å™¨ç³»ç»Ÿ](https://leetcode.cn/problems/design-a-number-container-system/)
- [3408. è®¾è®¡ä»»åŠ¡ç®¡ç†å™¨](https://leetcode.cn/problems/design-task-manager/)

---
