---
title: "高效算法：哈希表/双指针/滑动窗口"
categories: [algorithms]
tags: [algorithm]

math: true
layout: post
---

**哈希表、双指针、滑动窗口** 是三种最常用且高效的解题技巧。它们不直接属于某一种特定数据结构，而更像是**解题工具**，可以和数组、字符串、链表等数据结构配合使用，极大提升代码效率。

---

## 哈希表

**哈希表（Hash Table）**是一种基于 **哈希函数（Hash Function）** 的数据结构，通过将元素映射到数组下标位置，实现**近乎 O(1)** 的插入、删除和查找操作。

它的核心思想是：

1. **存放位置计算**：用哈希函数 `h(key)` 将键（Key）映射成数组索引。
2. **快速定位**：通过数组下标直接访问数据。
3. **冲突解决**：不同的键可能映射到同一个下标，需要冲突处理（如链地址法、开放定址法）。

---

**特点**

* **查找快**：平均时间复杂度 O(1)，最坏 O(n)（冲突严重时）。
* **无序性**：元素在哈希表中通常是无序的。
* **键唯一**：哈希表的 key 是唯一的。

---

**常见实现方式**

1. 数组 + 链表（拉链法 / 分离链接法）
   * 每个数组位置存放一个链表，冲突的元素链在一起。
   * 适合频繁插入删除。

2. 数组 + 开放定址（Open Addressing）
   * 如果位置被占用，就向后找空位置。
   * 节省指针空间，但删除复杂。

---

**常见操作（Python 示例）**
```python
# Python 内置 dict 就是哈希表
hash_map = {}

# 插入 / 更新
hash_map['apple'] = 3
hash_map['banana'] = 5

# 查找
if 'apple' in hash_map:
    print(hash_map['apple'])  # 输出 3

# 删除
del hash_map['banana']

# 遍历
for key, value in hash_map.items():
    print(key, value)
```

[更多操作技巧](/posts/Python%E9%9B%86%E5%90%88/)

---

**主要用途：**

* 快速查找、插入、删除数据，平均时间复杂度接近 O(1)。
* 用于解决需要频繁查询元素是否存在或统计元素频次的问题。

**常见应用场景：**

* 去重问题（判断元素是否重复）
* 频率统计（如找出现次数最多的元素）
* 两数之和、三数之和等数值匹配问题
* 字符串中字符出现频率统计
* 记录元素索引或映射关系（如映射坐标或元素到另一集合）

---

### 经典例题
- [128. 最长连续序列](https://leetcode.cn/problems/longest-consecutive-sequence/)
- [966. 元音拼写检查器](https://leetcode.cn/problems/vowel-spellchecker/)
- 【有序集合】[1912. 设计电影租借系统](https://leetcode.cn/problems/design-movie-rental-system/)

---

## 双指针

双指针是一种常用于处理 **线性结构（如数组、字符串、链表）** 的算法技巧，它通过维护两个指针的位置关系来简化遍历、查找、排序等操作。

**常见的双指针模式：**

| 模式名称                    | 指针方向                                | 应用场景          |
| ----------------------- | ----------------------------------- | ------------- |
| 对撞指针（Opposite Pointers） | 一个从头，一个从尾，向中间逼近                     | 判断回文、两数之和     |
| 同向指针（Sliding Window）    | 两个指针都从头开始，`right` 向右扩张，`left` 条件下缩小 | 子数组、最长子串、频率窗口 |
| 快慢指针（Fast & Slow）       | 一快一慢，常用于链表                          | 判环、找中点        |

**主要用途：**

* 使用两个指针同时在数组或链表上移动，常用于线性遍历和查找。
* 通过指针移动的配合，实现效率更高的搜索、匹配或合并操作。

**双指针应用场景与题型：**

| 场景             | 举例                 | 技巧        |
| -------------- | ------------------ | --------- |
| 数组中找一对/多对数满足条件 | 两数之和 II、三数之和       | 排序 + 对撞指针 |
| 子串/子数组满足条件     | 最小覆盖子串、最长不重复子串     | 同向滑动窗口    |
| 链表操作           | 判断环、倒数第 K 个节点、快慢合并 | 快慢指针      |
| 移除元素           | 原地覆盖、排序数组去重        | 双指针拷贝     |
| 模拟归并排序         | 合并两个有序数组           | 双数组双指针    |

---

### 经典例题
- [15. 三数之和](https://leetcode.cn/problems/3sum/)
- [11. 盛最多水的容器](https://leetcode.cn/problems/container-with-most-water/)
- [42. 接雨水](https://leetcode.cn/problems/trapping-rain-water/)

---

## 滑动窗口

滑动窗口是一种在数组或字符串中维护 **一个动态子区间** 的技巧，通常使用双指针（左边界 `left` 和右边界 `right`）构成一个窗口，**在满足某种条件时滑动窗口来找最优解**。

* 满足某种条件
* 统计区间属性（如和、最大值、最小值、频率）

**滑动窗口分类：**

| 类型     | 示例                 | 特点            |
| ------ | ------------------ | ------------- |
| 固定窗口大小 | 「长度为 k 的最大和」       | 左右指针间距固定      |
| 可变窗口大小 | 「最短子数组长度 ≥ target」 | 右指针滑动扩张，左指针缩小 |

**主要用途：**

* 在一组数据（数组/字符串）中，维护一个动态大小或固定大小的区间（窗口），用来求区间内的某种性质（和、最大值、字符种类等）。
* 适合解决“连续子区间”的问题。

**常见应用场景：**

* 求最长无重复子串
* 求最大/最小子数组和
* 固定长度子串/子数组的统计问题
* 字符串中满足条件的最短子串（如最小覆盖子串）
* 连续区间的计数与统计

---

### 经典例题
- [438. 找到字符串中所有字母异位词](https://leetcode.cn/problems/find-all-anagrams-in-a-string/)
- [3439. 重新安排会议得到最多空余时间 I](https://leetcode.cn/problems/reschedule-meetings-for-maximum-free-time-i/)
- [3634. 使数组平衡的最少移除数目](https://leetcode.cn/problems/minimum-removals-to-balance-array/)
- [1493. 删掉一个元素以后全为 1 的最长子数组](https://leetcode.cn/problems/longest-subarray-of-1s-after-deleting-one-element/)

---
