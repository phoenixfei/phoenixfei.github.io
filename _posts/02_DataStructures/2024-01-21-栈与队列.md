---
title: "栈与队列：数据结构的灵动序列"
categories: [02_DataStructures]
tags: [stack, queue]

math: true
layout: post
---

在程序的世界里，栈和队列就像两种不同的排队规则——一个“后进先出”，一个“先进先出”，它们共同支撑着无数算法的运转。

---

**栈（Stack） vs 队列（Queue）：**

| 特性        | 栈（Stack）                     | 队列（Queue）               |
| --------- | ---------------------------- | ----------------------- |
| 存取顺序      | 后进先出（LIFO）                   | 先进先出（FIFO）              |
| 插入操作      | `push(x)` 放入“栈顶”             | `enqueue(x)` 放入“队尾”     |
| 删除操作      | `pop()` 从“栈顶”移除              | `dequeue()` 从“队头”移除     |
| 访问方式      | 只能访问栈顶                       | 只能访问队头                  |
| 常用场景      | 括号匹配、表达式求值、回溯等               | 排队系统、BFS遍历、任务调度等        |
| Python 实现 | `list` 或 `collections.deque` | `collections.deque`（推荐） |

---

### 栈

**特点：**
* **后进先出（LIFO）**
* 类比：盘子堆、撤销操作

**Python 实现（推荐使用 `list`）：**
```python
stack = []

stack.append(1)    # push 入栈
stack.append(2)
top = stack[-1]    # 查看栈顶
stack.pop()        # pop 出栈
```

* `append(x)` 入栈
* `pop()` 出栈
* `stack[-1]` 查看栈顶

---

### 队列

**特点：**
* **先进先出（FIFO）**
* 类比：排队系统、打印队列

**Python 实现（推荐使用 `collections.deque`）：**
```python
from collections import deque

queue = deque()

queue.append(1)       # 入队（尾部）
queue.append(2)
front = queue[0]      # 查看队头
queue.popleft()       # 出队（头部）
```

* `append(x)` 入队（右端）
* `popleft()` 出队（左端）

`collections.deque`同样可用于实现“**双端队列**”：
```python
queue.appendleft(x)   # 左边入队
queue.pop()           # 右边出队
```

---

### 经典例题

| 题号   | 题目                                                                                           | 标签            |
| ---- | -------------------------------------------------------------------------------------------- | ------------- |
| 20   | [有效的括号](https://leetcode.cn/problems/valid-parentheses/)                                     | 栈 / 字符串 / 模板题 |
| 394 | [字符串解码](https://leetcode.cn/problems/decode-string/) | 栈 / 字符串 / 模板题 |
| 2197 | [替换数组中的非互质数](https://leetcode.cn/problems/replace-non-coprime-numbers-in-array/description/) | 数论融合 / 提升题    |

---
