---
title: "算法工具箱：哈希表 × 双指针 × 滑动窗口"
categories: [ds-algo]

math: true
layout: post
---

**哈希表、双指针、滑动窗口** 是三种最常用且高效的解题技巧。它们不直接属于某一种特定数据结构，而更像是**解题工具**，可以和数组、字符串、链表等数据结构配合使用，极大提升代码效率。

---

## 哈希表

哈希表是一种基于 **键-值对（Key-Value）** 的数据结构，提供了 **极高效率的查找、插入和删除操作**，其平均时间复杂度通常为 **O(1)**。

它的核心思想是使用一个 **哈希函数（Hash Function）** 将关键字映射为数组下标，以便快速定位对应的值。

---

哈希表的基本原理：将键 `key` 通过某种计算规则（哈希函数），转换为一个整数，然后取模映射到数组下标：

```python
index = hash(key) % array_size
```

不同的 key 可能会映射到同一个下标，称为**哈希冲突**，常见的解决方法有：

* **拉链法（Chaining）**：数组元素是链表（或其他容器），冲突的键值对挂到这个链表上。
* **开放地址法（Open Addressing）**：寻找数组中下一个空位存放冲突的元素（如线性探测、二次探测、双重哈希等）。

---

常见操作

| 操作        | 描述                 | 平均时间复杂度 |
| --------- | ------------------ | ------- |
| 插入 Insert | `map[key] = value` | O(1)    |
| 查找 Search | `value = map[key]` | O(1)    |
| 删除 Delete | `del map[key]`     | O(1)    |
| 判断是否存在    | `key in map`       | O(1)    |

---

复杂度分析

| 操作 | 平均时间复杂度 | 最坏时间复杂度（大量冲突） |
| -- | ------- | ------------- |
| 插入 | O(1)    | O(n)          |
| 查找 | O(1)    | O(n)          |
| 删除 | O(1)    | O(n)          |

> 但在实际中，良好的哈希函数 + 动态扩容，可以将最坏情况避免，大多数语言（如 Python、Java、C++ STL）都使用负载因子 + 扩容机制来保持性能。

---

### 经典例题
- [128. 最长连续序列](https://leetcode.cn/problems/longest-consecutive-sequence/)

---

## 双指针

双指针是一种常用于处理 **线性结构（如数组、字符串、链表）** 的算法技巧，它通过维护两个指针的位置关系来简化遍历、查找、排序等操作。

**常见的双指针模式：**

| 模式名称                    | 指针方向                                | 应用场景          |
| ----------------------- | ----------------------------------- | ------------- |
| 对撞指针（Opposite Pointers） | 一个从头，一个从尾，向中间逼近                     | 判断回文、两数之和     |
| 同向指针（Sliding Window）    | 两个指针都从头开始，`right` 向右扩张，`left` 条件下缩小 | 子数组、最长子串、频率窗口 |
| 快慢指针（Fast & Slow）       | 一快一慢，常用于链表                          | 判环、找中点        |

**双指针应用场景与题型：**

| 场景             | 举例                 | 技巧        |
| -------------- | ------------------ | --------- |
| 数组中找一对/多对数满足条件 | 两数之和 II、三数之和       | 排序 + 对撞指针 |
| 子串/子数组满足条件     | 最小覆盖子串、最长不重复子串     | 同向滑动窗口    |
| 链表操作           | 判断环、倒数第 K 个节点、快慢合并 | 快慢指针      |
| 移除元素           | 原地覆盖、排序数组去重        | 双指针拷贝     |
| 模拟归并排序         | 合并两个有序数组           | 双数组双指针    |

---

### 经典例题
- [15. 三数之和](https://leetcode.cn/problems/3sum/)
- [11. 盛最多水的容器](https://leetcode.cn/problems/container-with-most-water/)
- [42. 接雨水](https://leetcode.cn/problems/trapping-rain-water/)

---

## 滑动窗口

滑动窗口是一种在数组或字符串中维护 **一个动态子区间** 的技巧，通常使用双指针（左边界 `left` 和右边界 `right`）构成一个窗口，**在满足某种条件时滑动窗口来找最优解**。

* 满足某种条件
* 统计区间属性（如和、最大值、最小值、频率）

**适用场景：**

* 数组 / 字符串中寻找满足条件的**子区间**
* 最长/最短子串、子数组
* 滑动区间统计最大/最小值

**滑动窗口分类：**

| 类型     | 示例                 | 特点            |
| ------ | ------------------ | ------------- |
| 固定窗口大小 | 「长度为 k 的最大和」       | 左右指针间距固定      |
| 可变窗口大小 | 「最短子数组长度 ≥ target」 | 右指针滑动扩张，左指针缩小 |

---

### 经典例题
- [438. 找到字符串中所有字母异位词](https://leetcode.cn/problems/find-all-anagrams-in-a-string/)
- [3439. 重新安排会议得到最多空余时间 I](https://leetcode.cn/problems/reschedule-meetings-for-maximum-free-time-i/)
- [3634. 使数组平衡的最少移除数目](https://leetcode.cn/problems/minimum-removals-to-balance-array/)

---
